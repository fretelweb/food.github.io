{"version":3,"sources":["./src/app/userdetails/userdetails-routing.module.ts","./src/app/userdetails/userdetails.component.html","./src/app/userdetails/userdetails.component.ts","./src/app/userdetails/userdetails.module.ts"],"names":[],"mappings":"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","file":"userdetails-userdetails-module-ngfactory-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { UserdetailsComponent } from './userdetails.component';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UserdetailsComponent,\n    data: {\n      breadcrumb: 'Users Details'\n    }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class UserdetailsRoutingModule { }\n","<ngx-spinner type=\"ball-pulse-sync\" color=\"#e74c3c\">\n    <p style=\"font-size: 20px; color: #e74c3c\">{{'Please wait...' | translate}}</p>\n</ngx-spinner>\n<div class=\"row\">\n    <div class=\"col-md-12\">\n        <div class=\"card\">\n            <div class=\"card-body\">\n                <h5>{{'User Details'| translate}}</h5>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-xl-4\">\n                    <div class=\"user-card-body \">\n                        <div class=\"card-body\">\n                            <div class=\"top-card text-center\">\n                                <img [src]=\"photo\" style=\"height: 100px;width: 100px;border-radius: 50%;\"\n                                    onError=\"this.src='assets/icon.png'\" class=\"img-responsive\" alt=\"\">\n                            </div>\n                            <div class=\"card-contain text-center p-t-40\">\n                                <h5 class=\"text-capitalize p-b-10\">{{name}}</h5>\n                                <p class=\"text-muted\">{{email}}</p>\n                            </div>\n                            <div class=\"card-data\">\n                                <div class=\"row\">\n\n                                    <div class=\"col-4 b-r-default text-center\">\n                                        <p class=\"text-muted\">{{'Orders' | translate}}</p>\n                                        <span>{{myOrders.length}}</span>\n                                    </div>\n                                    <div class=\"col-4 b-r-default text-center\">\n                                        <p class=\"text-muted\">{{'Address' | translate}}</p>\n                                        <span>{{myaddress.length}}</span>\n                                    </div>\n                                    <div class=\"col-4 b-r-default text-center\">\n                                        <p class=\"text-muted\">{{'Reviews' | translate}}</p>\n                                        <span>{{reviews.length}}</span>\n                                    </div>\n                                </div>\n                            </div>\n\n                        </div>\n                    </div>\n                </div>\n                <div class=\"col-xl-8\">\n                    <div class=\"user-card-body\">\n                        <div class=\"card-body\">\n                            <ngb-tabset>\n                                <ngb-tab title=\"Orders\">\n                                    <ng-template ngbTabContent>\n                                        <div class=\"orders\">\n                                            <div class=\"card_div\" *ngFor=\"let item of myOrders\">\n\n                                                <div class=\"resto_detail\">\n                                                    <div class=\"back_image\"\n                                                        [style.backgroundImage]=\"'url('+item.vid.cover+')'\"></div>\n                                                    <div style=\"margin-left: 20px;\">\n                                                        <p class=\"res_name\">{{item.vid.name}}</p>\n                                                        <p class=\"res_location\">\n                                                            {{item.vid.address}}\n                                                        </p>\n                                                    </div>\n                                                </div>\n\n                                                <div class=\"line_div\"></div>\n\n                                                <div class=\"order_detail\">\n                                                    <p class=\"head_gray\">{{'ITEMS' | translate}}</p>\n                                                    <div class=\"small_lbl\">\n                                                        <span\n                                                            *ngFor=\"let order of item.order;let ol = index\">{{order.quantiy}}\n                                                            X {{order.name}} <span\n                                                                *ngIf=\"ol !=item.order.length\">,</span></span>\n                                                    </div>\n                                                    <p class=\"head_gray\">{{'ORDERED ON' | translate}}</p>\n                                                    <p class=\"small_lbl\">{{getDate(item.time)}} </p>\n                                                    <p class=\"head_gray\" *ngIf=\"item.appliedCoupon\">\n                                                        {{'Discount'| translate}}</p>\n                                                    <p class=\"small_lbl\" *ngIf=\"item.appliedCoupon\">${{item.dicount}}\n                                                    </p>\n                                                    <p class=\"head_gray\">{{'TOTAL AMOUNT' | translate}}</p>\n                                                    <p class=\"small_lbl\">${{item.grandTotal}}</p>\n                                                </div>\n\n                                                <div class=\"line_div\"></div>\n\n                                                <div class=\"status_detail\"\n                                                    *ngIf=\"item.status =='completed' || item.status == 'delivered'\">\n                                                    <div class=\"deliver_div\">\n                                                        {{'Delivered' | translate}}\n                                                    </div>\n                                                </div>\n                                                <div class=\"status_detail\"\n                                                    *ngIf=\"item.status =='rejected' || item.status == 'cancel'\">\n                                                    <div class=\"deliver_div\">\n                                                        {{'Your Order is' | translate}} {{item.status}}\n                                                    </div>\n                                                </div>\n                                                <div class=\"status_detail\"\n                                                    *ngIf=\"item.status =='created' || item.status =='ongoing' || item.status === 'accepted'\">\n                                                    <div class=\"deliver_div\">\n                                                        {{'Your Order is'| translate}} {{item.status}}\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </ng-template>\n                                </ngb-tab>\n                                <ngb-tab title=\"Address\">\n                                    <ng-template ngbTabContent>\n                                        <div class=\"address\">\n                                            <div class=\"list\" *ngFor=\"let item of myaddress\">\n                                                <p class=\"title\">{{item.title}}</p>\n                                                <p class=\"name\">{{item.house}} {{item.landmark}} {{item.address}}</p>\n                                            </div>\n                                        </div>\n                                    </ng-template>\n                                </ngb-tab>\n                                <ngb-tab title=\"Reviews\">\n                                    <ng-template ngbTabContent>\n                                        <div class=\"review\">\n                                            <div class=\"row\" *ngFor=\"let item of reviews\"\n                                                style=\"border-bottom: 1px solid lightgray;padding: 10px;\">\n                                                <div class=\"col-md-2\">\n                                                    <img height=\"100\" width=\"100\" src=\"{{item.cover}}\" alt=\"\"\n                                                        onError=\"this.src='assets/icon.png'\">\n                                                </div>\n                                                <div class=\"col-md-10\">\n                                                    <p style=\"font-weight: bold;\"> {{item.vid.name}}</p>\n                                                    {{item.descriptions}}\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </ng-template>\n                                </ngb-tab>\n                            </ngb-tabset>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <!-- End-->\n\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { ApisService } from '../services/apis.service';\nimport { ActivatedRoute } from '@angular/router';\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'app-userdetails',\n  templateUrl: './userdetails.component.html',\n  styleUrls: ['./userdetails.component.scss']\n})\nexport class UserdetailsComponent implements OnInit {\n  myOrders: any[] = [];\n  id: any;\n  myaddress: any[] = [];\n  reviews: any[] = [];\n  name: any = '';\n  email: any = '';\n  photo: any = '';\n  constructor(\n    private api: ApisService,\n    private route: ActivatedRoute\n  ) {\n    this.route.queryParams.subscribe(data => {\n      console.log(data);\n      if (data && data.id) {\n        this.id = data.id;\n        this.getProfile();\n        this.getMyOrders();\n        this.getAddress();\n      }\n    });\n  }\n\n  ngOnInit() {\n\n  }\n  getProfile() {\n    this.api.getMyProfile(this.id).then((data: any) => {\n      console.log('userdata', data);\n      if (data) {\n        this.name = data.fullname;\n        this.photo = data && data.cover ? data.cover : 'assets/icon.png';\n        this.email = data.email;\n        this.api.getMyReviews(data.uid).then((reviews) => {\n          console.log(reviews);\n          this.reviews = reviews;\n        }, error => {\n          console.log(error);\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n  getAddress() {\n    this.api.getMyAddress(this.id).then((data) => {\n      console.log('my address', data);\n      if (data) {\n        this.myaddress = data;\n      }\n    }, error => {\n      console.log(error);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n  getMyOrders() {\n    this.api.getMyOrders(this.id).then((data: any) => {\n      console.log('my orders', data);\n      if (data && data.length) {\n        data.forEach(element => {\n          element.time = new Date(element.time);\n        });\n        data.sort((a, b) => b.time - a.time);\n        this.myOrders = data;\n        this.myOrders.forEach(element => {\n          element.order = JSON.parse(element.order);\n        });\n        console.log('my order==>', this.myOrders);\n      }\n    }, error => {\n      console.log(error);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  getDate(date) {\n    return moment(date).format('llll');\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { UserdetailsRoutingModule } from './userdetails-routing.module';\nimport { UserdetailsComponent } from './userdetails.component';\nimport { NgxSpinnerModule } from 'ngx-spinner';\nimport { NgbTabsetModule } from '@ng-bootstrap/ng-bootstrap';\nimport { SharedModule } from '../shared/shared.module';\n\n\n@NgModule({\n  declarations: [UserdetailsComponent],\n  imports: [\n    CommonModule,\n    UserdetailsRoutingModule,\n    NgxSpinnerModule,\n    NgbTabsetModule,\n    SharedModule\n  ]\n})\nexport class UserdetailsModule { }\n"],"sourceRoot":"webpack:///"}